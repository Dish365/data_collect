#:import dp kivy.metrics.dp

<AnalyticsStatCard>:
    ripple_behavior: True
    size_hint_y: None
    height: dp(120)
    size_hint_x: 1
    style: "elevated"
    radius: [dp(12)]
    elevation: 2
    padding: dp(16)
    md_bg_color: app.theme_cls.surfaceColor

    MDBoxLayout:
        orientation: "horizontal"
        spacing: dp(15)
        size_hint: 1, 1

        # Icon section
        MDIconButton:
            icon: root.icon
            theme_icon_color: "Custom"
            icon_color: app.theme_cls.primaryColor
            icon_size: "32dp"
            size_hint_x: None
            width: dp(48)
            pos_hint: {"center_y": 0.5}

        # Content section
        MDBoxLayout:
            orientation: "vertical"
            spacing: dp(4)
            size_hint_x: 1
            pos_hint: {"center_y": 0.5}
            adaptive_height: True

            # Value label (main number) - updated to KivyMD 2.0.1
            MDLabel:
                text: root.value
                font_style: "Headline"
                role: "small"
                bold: True
                adaptive_height: True
                size_hint_y: None
                height: self.texture_size[1]
                theme_text_color: "Primary"
                
            # Title label - updated to KivyMD 2.0.1
            MDLabel:
                text: root.title
                font_style: "Body"
                role: "large"
                adaptive_height: True
                size_hint_y: None
                height: self.texture_size[1]
                theme_text_color: "Secondary"
                
            # Note label (additional info) - updated to KivyMD 2.0.1
            MDLabel:
                text: root.note
                font_style: "Label"
                role: "small"
                adaptive_height: True
                size_hint_y: None
                height: self.texture_size[1] if self.text else 0
                theme_text_color: "Hint"
                opacity: 1 if self.text else 0 